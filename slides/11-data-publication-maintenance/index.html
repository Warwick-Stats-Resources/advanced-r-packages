<!DOCTYPE html>
<html lang="en"><head>
<link href="../../images/warwick-university.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.361">

  <meta name="author" content="Heather Turner and Ella Kaye">
  <meta name="author" content="Department of Statistics, University of Warwick">
  <meta name="dcterms.date" content="2023-06-21">
  <title>Advanced R and R Packages Workshop - Packaging Data; Publication and Maintenance</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #adadbd;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #adadbd;  padding-left: 4px; }
    div.sourceCode
      { color: #2e2e2f;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #2e2e2f; } /* Normal */
    code span.al { color: #ae4240; } /* Alert */
    code span.an { color: #494957; } /* Annotation */
    code span.at { color: #775781; } /* Attribute */
    code span.bn { color: #ae4240; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #956133; } /* ControlFlow */
    code span.ch { color: #618157; } /* Char */
    code span.cn { color: #956133; } /* Constant */
    code span.co { color: #494957; } /* Comment */
    code span.cv { color: #494957; font-style: italic; } /* CommentVar */
    code span.do { color: #494957; font-style: italic; } /* Documentation */
    code span.dt { color: #ae4240; } /* DataType */
    code span.dv { color: #ae4240; } /* DecVal */
    code span.er { color: #ae4240; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ae4240; } /* Float */
    code span.fu { color: #336695; } /* Function */
    code span.im { color: #775781; } /* Import */
    code span.in { color: #494957; } /* Information */
    code span.kw { color: #2e2e2f; } /* Keyword */
    code span.op { color: #494957; } /* Operator */
    code span.ot { color: #494957; } /* Other */
    code span.pp { color: #ae4240; } /* Preprocessor */
    code span.re { color: #336695; } /* RegionMarker */
    code span.sc { color: #494957; } /* SpecialChar */
    code span.ss { color: #618157; } /* SpecialString */
    code span.st { color: #618157; } /* String */
    code span.va { color: #2e2e2f; } /* Variable */
    code span.vs { color: #618157; } /* VerbatimString */
    code span.wa { color: #494957; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#552D62" class="quarto-title-block center">
  <h1 class="title">Packaging Data; Publication and Maintenance</h1>
  <p class="subtitle">Advanced R</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Heather Turner and Ella Kaye 
</div>
</div>
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Department of Statistics, University of Warwick 
</div>
</div>
</div>

  <p class="date">June 21, 2023</p>
</section>
<section id="overview" class="slide level2">
<h2>Overview</h2>
<ul>
<li>Packaging data</li>
<li>Publication
<ul>
<li>GitHub</li>
<li>R-Universe</li>
<li>CRAN</li>
</ul></li>
<li>Promotion</li>
<li>Maintenance</li>
</ul>
<aside class="notes">
<p>The packaging data section would more naturally fit earlier in the course, but put here because of how the schedule has panned out.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="packaging-data" class="title-slide slide level1 inverse center">
<h1>Packaging data</h1>

</section>
<section id="including-data" class="slide level2">
<h2>Including data</h2>
<p>There are 3 types of data we might want to include:</p>
<ul>
<li>Exported data for the user to access: put in <code>/data</code></li>
<li>Internal data for functions to access: put in <code>/R/sysdata.rda</code></li>
<li>Raw data: put in <code>/inst/extdata</code></li>
</ul>
</section>
<section id="exported-data" class="slide level2">
<h2>Exported data</h2>
<p>The data should be saved in <code>/data</code> as an <code>.rda</code> (or <code>.RData</code>) file.</p>
<p><code>usethis::use_data()</code> will do this for you, as well as a few other necessary steps:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>letter_indices <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">letter =</span> letters, <span class="at">index =</span> <span class="fu">seq_along</span>(letters))</span>
<span id="cb1-2"><a href="#cb1-2"></a>usethis<span class="sc">::</span><span class="fu">use_data</span>(letter_indices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code>✔ Adding 'R' to Depends field in DESCRIPTION
✔ Creating 'data/'
✔ Setting LazyData to 'true' in 'DESCRIPTION'
✔ Saving 'letter_indices' to 'data/letter_indices.rda'
• Document your data (see 'https://r-pkgs.org/data.html')</code></pre>
<div class="fragment">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>For larger datasets, you can try changing the <code>compress</code> argument to get the best compression.</p>
</div>
</div>
</div>
</div>
</section>
<section id="provenance" class="slide level2">
<h2>Provenance</h2>
<p>Often the data that you want to make accessible to the users is one you have created with an R script – either from scratch or from a raw data set.</p>
<p>It’s a good idea to put the R script and any corresponding raw data in <code>/data-raw</code>.</p>
<p><code>usethis::use_data_raw("dataname")</code> will set this up:</p>
<ul>
<li>Create <code>/data-raw</code></li>
<li>Add <code>/data-raw/dataname.R</code> for you to add the code needed to create the data</li>
<li>Add <code>^data-raw$</code> to <code>.Rbuildignore</code> as it does not need to be included in the actual package.</li>
</ul>
<p>You should add any raw data files (e.g.&nbsp;<code>.csv</code> files) to <code>/data-raw</code>.</p>
</section>
<section id="documenting-data" class="slide level2">
<h2>Documenting Data</h2>
<p>Datasets in <code>/data</code> are always exported, so <strong>must</strong> be documented.</p>
<p>To document a dataset, we must have an <code>.R</code> script in <code>/R</code> that contains a Roxygen block above the name of the dataset.</p>
<p>As with functions, you can choose how to arrange this, e.g.&nbsp;in one combined <code>/R/data.R</code> or in a separate R file for each dataset.</p>
</section>
<section id="example-letter_indices" class="slide level2">
<h2>Example: letter_indices</h2>
<pre><code>#' Letters of the Roman Alphabet with Indices
#'
#' A dataset of lower-case letters of the Roman alphabet and their 
#' numeric index from a = 1 to z = 26.
#'
#' @format A data frame with 26 rows and 2 variables:
#' \describe{
#'   \item{letter}{The letter as a character string.}
#'   \item{index}{The corresponding numeric index.}
#' }
"letter_indices"</code></pre>
<p><code>#' @ examples</code> can be used here too.</p>
</section>
<section id="data-source" class="slide level2">
<h2>Data source</h2>
<p>For collected data, the (original) source should be documented with <code>#' @source</code>.</p>
<p>This should either be a url, e.g.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">#' @source \url{http://www.diamondse.info/}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>(alternatively <code>\href{DiamondSearchEngine}{http://www.diamondse.info/}</code>), or a reference, e.g.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">#' @source Henderson and Velleman (1981), Building multiple  </span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#' #' regression models interactively. *Biometrics*, **37**, 391–411.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="internal-data" class="slide level2">
<h2>Internal data</h2>
<p>Sometimes functions need access to reference data, e.g.&nbsp;constants or look-up tables, that don’t need to be shared with users.</p>
<p>These objects should be saved in a single <code>R/sysdata.rda</code> file.</p>
<p>This can be done with <code>use_data(..., internal = TRUE)</code>, e.g.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1000</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a>usethis<span class="sc">::</span><span class="fu">use_data</span>(x, mtcars, <span class="at">internal =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The generating code and any raw data can be put in <code>/data-raw</code>.</p>
<p>As the objects are not exported, they don’t need to be documented.</p>
</section>
<section id="raw-data" class="slide level2">
<h2>Raw data</h2>
<p>Sometimes you want to include raw data, to use in examples or vignettes.</p>
<p>These files can be any format and should be added directly into <code>/inst/extdata</code>.</p>
<p>When the package is installed, these files will be copied to the <code>extdata</code> directory and their path on your system can be found as follows:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="st">"mtcars.csv"</span>, <span class="at">package =</span> <span class="st">"readr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/u2175871/Library/R/arm64/4.3/library/readr/extdata/mtcars.csv"</code></pre>
</div>
</div>
</section>
<section id="your-turn" class="slide level2">
<h2>Your turn</h2>
<ol type="1">
<li>Run <code>usethis::use_data_raw("farm_animals")</code>.</li>
<li>In the script <code>data-raw/farm_animals.R</code> write some code to create a small data frame with the names of farm animals and the sound they make.</li>
<li>Run all the code (including the already-present call to <code>usethis::use_data()</code>) to create the data and save it in <code>/data</code>.</li>
<li>Add an <code>R/farm_animals.R</code> script and add some roxygen comments to document the function.</li>
<li>Run <code>devtools::document()</code> to create the documentation for the <code>farm_animals</code> data. Preview the documentation to check it.</li>
<li>Commit all the changes to your repo.</li>
</ol>
</section></section>
<section id="publication" class="title-slide slide level1 inverse center">
<h1>Publication</h1>

</section>

<section>
<section id="github" class="title-slide slide level1 inverse center">
<h1>GitHub</h1>

</section>
<section id="your-package-is-already-on-github" class="slide level2">
<h2>Your package is already on GitHub</h2>
<p>Since your package is already on GitHub, any R user can install it with</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"USER/REPO"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you want to tag it as a release, make sure there’s a <code>NEWS.md</code> file then run</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>usethis<span class="sc">::</span><span class="fu">use_version</span>() <span class="co"># set the release version number</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Check the <code>NEWS.md</code> file is up-to-date (<code>use_version()</code> will modify it) then</p>
<pre><code>usethis::use_github_release()</code></pre>
<p>This will bundle the source code as a <code>zip</code> and a <code>tar.gz</code> and make them available from the <strong>Releases</strong> section of the repo homepage.</p>
<aside class="notes">
<p>See previous session for details about NEWS.md and <code>usethis::use_news_md()</code></p>
<p>use_github_release() is also part of the CRAN submission process, towards the end of the <code>use_release_issue()</code> to-do list.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="r-universe" class="title-slide slide level1 inverse center">
<h1>R-Universe</h1>

</section>
<section id="r-universe-1" class="slide level2">
<h2>R-Universe</h2>
<p>With <a href="https://r-universe.dev/">R-Universe</a>, you can create a personal, CRAN-like repository.</p>
<p>You’re in control of what’s published in your R-Universe!</p>
<p>It is a good way to allow users to easily install packages without going through the rigour of the CRAN submission process.</p>
<p>Useful resources:</p>
<ul>
<li>Search the whole R-universe: <a href="https://r-universe.dev/search/" class="uri">https://r-universe.dev/search/</a></li>
<li>About the R-universe: <a href="https://ropensci.org/r-universe/" class="uri">https://ropensci.org/r-universe/</a></li>
<li>R-universe help-page: <a href="https://github.com/r-universe-org/help" class="uri">https://github.com/r-universe-org/help</a></li>
</ul>
<aside class="notes">
<p>A project from rOpenSci</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="installing-a-package-from-an-r-universe" class="slide level2">
<h2>Installing a package from an R-universe</h2>
<p>Binaries are built for Windows and MacOS, which a user can install using <code>install.packages()</code>, e.g.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># Install 'malt' from the 'lrioudurand' universe</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">install.packages</span>(<span class="st">'malt'</span>, <span class="at">repos =</span> <span class="fu">c</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="at">lrioudurand =</span> <span class="st">'https://lrioudurand.r-universe.dev'</span>,</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="at">CRAN =</span> <span class="st">'https://cloud.r-project.org'</span>)  </span>
<span id="cb12-5"><a href="#cb12-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Alternatively, you can first set <code>options(repos)</code> to enable favourite repositories by default:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(</span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="at">lrioudurand =</span> <span class="st">'https://lrioudurand.r-universe.dev'</span>,</span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="at">CRAN =</span> <span class="st">'https://cloud.r-project.org'</span>)</span>
<span id="cb13-4"><a href="#cb13-4"></a>)</span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="fu">install.packages</span>(<span class="st">"malt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>This example chosen because the universe belongs to a member of the Warwick Stats department, Lionel Riou-Durand.</p>
<p>To make options persist across sessions, add this code to your .RProfile with <code>usethis::edit_r_profile()</code></p>
<p>CRAN repo is listed because r-universe package may have dependencies on packages on CRAN.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="create-your-r-universe" class="slide level2">
<h2>Create your R-universe</h2>
<p>Follow this rOpenSci guide: <a href="https://ropensci.org/blog/2021/06/22/setup-runiverse/">How to create your personal CRAN-like repository on R-universe</a>.</p>
<div class="smaller80">
<p>In a nutshell:</p>
<ol type="1">
<li><p>Create a repository called <code>&lt;username&gt;.r-universe.dev</code> on the GitHub account for <code>username</code>, e.g.&nbsp;<a href="https://github.com/maelle/maelle.r-universe.dev" class="uri">https://github.com/maelle/maelle.r-universe.dev</a>. The repository must contain a file called <a href="https://github.com/maelle/maelle.r-universe.dev/blob/main/packages.json">packages.json</a> in the standard format, defining at least the <code>package</code> name and git <code>url</code> for the packages you want to include, e.g.</p>
<pre><code>[
    {
        "package": "malt",
        "url": "https://github.com/lrioudurand/malt"
    }
]</code></pre></li>
<li><p>Install the <a href="https://github.com/apps/r-universe/installations/new">r-universe app</a> on the GitHub account that you want to enable. Choose <strong>enable for all repositories</strong> when asked.</p></li>
</ol>
</div>
<aside class="notes">
<p>Copying the example from the r-universe help page, with the example/links to Maelle, but using the example json from Lionel to be consistent with previous slide.</p>
<p>Might be worth pointing out that with actual username, don’t need <code>&lt; &gt;</code></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-happens-next" class="slide level2">
<h2>What happens next</h2>
<ul>
<li><p>After a few minutes, your source universe will appear on: <code>https://github.com/r-universe/&lt;username&gt;</code></p></li>
<li><p>The universe automatically starts building the packages from your registry. Once finished, they will appear on <code>https://&lt;username&gt;.r-universe.dev</code></p></li>
<li><p>The universe automatically syncs and builds your package git repos once per hour.</p></li>
<li><p>If you encounter any issues, the actions tab in your source universe may show what is going on, for example: <a href="https://github.com/r-universe/maelle/actions" class="uri">https://github.com/r-universe/maelle/actions</a></p></li>
</ul>
</section></section>
<section>
<section id="cran" class="title-slide slide level1 inverse center">
<h1>CRAN</h1>

</section>
<section id="why-publish-on-cran" class="slide level2">
<h2>Why publish on CRAN?</h2>
<ul>
<li><p>Sign of quality</p>
<ul>
<li>Code is ready to be used (not a beta version)</li>
<li>Basic standards: documented code, running examples, etc</li>
<li>Works with current version of R and other packages</li>
<li>Commitment of maintainer</li>
</ul></li>
<li><p>Discoverability</p></li>
<li><p>Ease of installation</p></li>
<li><p>Bioconductor, rOpenSci: even higher standards, code review</p></li>
</ul>
</section>
<section id="its-an-involved-process" class="slide level2">
<h2>It’s an involved process</h2>
<ul>
<li><p>Read the official <a href="https://cran.r-project.org/web/packages/submission_checklist.html">Checklist for CRAN Submissions</a> to check requirements beyond the automated checks.</p></li>
<li><p>Read the community-created <a href="https://github.com/ThinkR-open/prepare-for-cran">Prepare for CRAN</a> checklist.</p></li>
<li><p>Useful functions for additional checks:</p>
<ul>
<li><code>goodpractice::gp</code></li>
<li><code>spelling::spell_check_package</code></li>
</ul></li>
</ul>
</section>
<section id="usethisuse_release_issue" class="slide level2">
<h2><code>usethis::use_release_issue()</code></h2>
<p>This function will first ask you to select the release version (major, minor, patch) then create and open a to-do list as an issue in the package GitHub repo.</p>
<p>For a first submission, there are around <strong>22</strong> tasks to complete, split into sections, to follow (more-or-less) in order:</p>
<ul>
<li>First release (one-time only)</li>
<li>Prepare for release</li>
<li>Submit to CRAN</li>
<li>Wait or CRAN (things to do after package has been accepted)</li>
</ul>
<p>For more details on each, see the <a href="https://r-pkgs.org/release.html">Releasing to CRAN</a> chapter of the R Packages book.</p>
<aside class="notes">
<p>Number of tasks may vary depending on what you’ve already done (e.g.&nbsp;use_news_md will appear on list if you haven’t already got a NEWS.md file, but won’t if you do.)</p>
<p>Some are clearly optional (e.g.&nbsp;drafting a blog post about the release) but most should be followed.</p>
<p>Some relate to promoting the package, rather than the technicalities of releasing it.</p>
<p>There are some different items for packages already on CRAN - not covered here - see Release chapter of R Packages for more details</p>
<p>Will catch many common ‘gotchas’, e.g.&nbsp;Title Case for Title, checking all exported functions have <span class="citation" data-cites="returns">@returns</span> and <span class="citation" data-cites="examples">@examples</span></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="run-as-cran-checks" class="slide level2">
<h2>Run “as CRAN” checks</h2>
<p><a href="https://cran.r-project.org/web/packages/policies.html">CRAN policies</a> state that you must run <code>R CMD check --as-cran</code> <em>on the tarball to be uploaded</em> with the current version of R-devel.</p>
<p>First make sure the package passes check locally:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>devtools<span class="sc">::</span><span class="fu">check</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then allow some extra checks:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>devtools<span class="sc">::</span><span class="fu">check</span>(<span class="at">remote =</span> <span class="cn">TRUE</span>, <span class="at">manual =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then send to CRAN’s win-builder to check on R-devel</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>devtools<span class="sc">::</span><span class="fu">check_win_devel</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<div class="smaller80">
<p>Further options: R-Hub (multiple platforms available, with different compilers) and Mac-builder (with M1)</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>devtools<span class="sc">::</span><span class="fu">check_rhub</span>()</span>
<span id="cb18-2"><a href="#cb18-2"></a>devtools<span class="sc">::</span><span class="fu">check_mac_release</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>It’s possible that the way your libraries are set up can mask problems with <code>check()</code> on your local machine. For example, it’s important that your System Library just comes with base and recommended packages and that all packages that you install go in your user library. Aside: Installing R through <code>rig</code> takes care of this for you.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="cran-comments.md" class="slide level2">
<h2><code>cran-comments.md</code></h2>
<p>Write submission notes, generating the <code>cran-comments.md</code> file with</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>usethis<span class="sc">::</span><span class="fu">use_cran_comments</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>
 ## Test environments
 * local OS X install (R-release)
 * win-builder (R-release, R-devel) 

 ## R CMD check results

 0 errors | 0 warnings | 1 note

 * This is a new release.</code></pre>
<p>There’s always one note for a new submission.</p>
<aside class="notes">
<p>use_cran_comments() will populate cran-comments.md with the R CMD check results section.</p>
<p>The test environments section needs to be filled by hand</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="submit-to-cran" class="slide level2">
<h2>Submit to CRAN</h2>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>devtools<span class="sc">::</span><span class="fu">release</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This asks you questions which you should carefully read and answer.</p>
<aside class="notes">
<p>The use_release_issue() function uses devtools::submit_cran() rather than devtools::release(), but the documentation page for submit_cran() recommends using release() instead as it performs more checks.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="if-your-submission-fails" class="slide level2">
<h2>If your submission fails</h2>
<p>Do not despair! It happens to everyone, even R-core members.</p>
<p>If it’s from the CRAN robot, just fix the problem &amp; resubmit.</p>
<p>If it’s from a human, do not respond to the email and do not argue. Instead update <code>cran-comments.md</code> &amp; resubmit.</p>
</section>
<section id="for-resubmission" class="slide level2">
<h2>For resubmission</h2>
<pre><code> This is a resubmission. Compared to the last submission, I
 have:

 * First change.
 * Second change.
 * Third change.

 --

 ## Test environments
 * local OS X install, R 3.2.2
 * win-builder (devel and release)

 ## R CMD check results
 ...</code></pre>
</section>
<section id="subsequent-submissions-to-cran" class="slide level2">
<h2>Subsequent submissions to CRAN</h2>
<p>Proceed as before. If you have reverse dependencies you need to also run <code>R CMD check</code> on them, and notify CRAN if you have deliberately broken them.</p>
<p>Fortunately the <strong>revdepcheck</strong> package makes this fairly easy</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"r-lib/revdepcheck"</span>)</span>
<span id="cb23-2"><a href="#cb23-2"></a>usethis<span class="sc">::</span><span class="fu">use_revdep</span>()</span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="fu">library</span>(revdepcheck)</span>
<span id="cb23-4"><a href="#cb23-4"></a><span class="fu">revdep_check</span>()</span>
<span id="cb23-5"><a href="#cb23-5"></a><span class="fu">revdep_report_cran</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section></section>
<section>
<section id="promotion" class="title-slide slide level1 inverse center">
<h1>Promotion</h1>

</section>
<section id="promoting-your-package" class="slide level2">
<h2>Promoting your package</h2>
<ul>
<li>Some promotion will/may be done for you: <a href="https://dirk.eddelbuettel.com/cranberries/">CRANberries</a>, <a href="https://rviews.rstudio.com/">R Views</a> Monthly Top 40, search engines (vignette/pkgdown site)</li>
<li>Some channels are obvious: personal website, blog, Mastodon (#RStats)</li>
<li>Publicize your new package via R Weekly <a href="https://rweekly.org/" class="uri">https://rweekly.org/</a>
<ul>
<li>Add to the weekly news blog, see <a href="https://github.com/rweekly/rweekly.org/blob/gh-pages/CONTRIBUTING.md">CONTRIBUTING</a>, and example pull requests <a href="https://github.com/rweekly/rweekly.org/pull/279">new package</a>, <a href="https://github.com/rweekly/rweekly.org/pull/277">new version</a>.</li>
</ul></li>
<li>Would your package fit in a CRAN Task View? <a href="https://cran.r-project.org/web/views/" class="uri">https://cran.r-project.org/web/views/</a>
<ul>
<li>Check <a href="https://github.com/cran-task-views/ctv">GitHub organization</a> for how to propose addition.</li>
</ul></li>
</ul>
<aside class="notes">
<p>And Twitter, if you must.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="talks" class="slide level2">
<h2>Talks</h2>
<ul>
<li>Meetups: Warwick RUG, Coventry R-Ladies (or your local groups)</li>
<li>Conferences <a href="https://jumpingrivers.github.io/meetingsR/events.html" class="uri">https://jumpingrivers.github.io/meetingsR/events.html</a>
<ul>
<li><strong>General</strong>: useR!, posit::conf, satRdays</li>
<li><strong>Specific</strong>: R/Finance, BioC, Psychoco</li>
<li><strong>Non R-specific</strong>: Royal Statistical Society (RSS), ???</li>
</ul></li>
<li>Conferences provide greater exposure, particular to people working in relevant field(s).</li>
<li>Don’t forget to share your slides! (Conference/personal website, LinkedIn, RPubs, Slideshare)</li>
</ul>
</section>
<section id="paper" class="slide level2">
<h2>Paper</h2>
<div class="smaller90">
<ul>
<li>A paper not only promotes your package but benefits from peer review
<ul>
<li>Paper can also overlap with vignette</li>
</ul></li>
<li>Traditional journals:
<ul>
<li><strong>Open Source Software</strong>: The R Journal, Journal of Statistical Software</li>
<li><strong>Computing</strong>: Computational Statistics and Data Analysis, Journal of Computational and Graphical Statistics, SoftwareX</li>
<li><strong>Science</strong>: Bioinformatics, PLOS ONE, Method in Ecology and Evolution</li>
</ul></li>
<li>Alternative journals:
<ul>
<li>F1000research Bioconductor/R package gateway: publish, then open review</li>
<li><a href="https://joss.theoj.org/">Journal Open Source Software</a>: open code review, short descriptive paper</li>
</ul></li>
</ul>
</div>
</section></section>
<section>
<section id="maintenance" class="title-slide slide level1 inverse center">
<h1>Maintenance</h1>

</section>
<section id="usethisuse_upkeep_issue" class="slide level2">
<h2><code>usethis::use_upkeep_issue()</code></h2>
<p>This is a new function in <strong>usethis</strong>. Like <code>usethis::use_release_issue()</code>, it opens a GitHub issue with an (opinionated) to-do list of tasks that should be ticked off for your package (at least) once a year.</p>
<p>The <strong>tidyverse</strong> team think of this like ‘spring cleaning’ for packages.</p>
<p>Blog post: <a href="https://www.tidyverse.org/blog/2023/06/spring-cleaning-2023/">Package spring cleaning</a></p>
</section>
<section id="interacting-with-users" class="slide level2">
<h2>Interacting with users</h2>
<ul>
<li>Bug reports/help requests
<ul>
<li>Can show where documentation/tests need improving</li>
<li>Help you find out who’s using your package and what for</li>
<li>Can give ideas for new features</li>
<li>Can lead to collaborations</li>
</ul></li>
<li>Avoid using email, so that other people can benefit
<ul>
<li>GitHub issues</li>
<li>Stackoverflow questions</li>
</ul></li>
</ul>
</section>
<section id="interacting-with-developers" class="slide level2">
<h2>Interacting with developers</h2>
<div class="smaller80">
<ul>
<li><p>Write developer documentation – remember you can add non-vignette articles with <code>usethis::use_article()</code></p></li>
<li><p>Add a code of conduct, e.g.&nbsp;Contributor Covenant</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>usethis<span class="sc">::</span><span class="fu">use_code_of_conduct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p>Add a CONTRIBUTING.md to your GitHub repository</p>
<ul>
<li>Do you have a style guide?</li>
<li>Reminders to run check/tests/add NEWS item to pull requests</li>
</ul></li>
<li><p>Use tags to highlight issues: the following are promoted by GitHub, e.g.&nbsp;<code>help wanted</code>, <code>good first issue</code></p></li>
<li><p>Add topics to your GitHub repo so potential contributors can find it<br>
</p></li>
</ul>
</div>
</section>
<section id="consider-the-longer-term" class="slide level2">
<h2>Consider the longer-term</h2>
<ul>
<li>Work on new features and bug fixes for the next release</li>
<li>Buddy-up
<ul>
<li>Review each other’s code</li>
<li>Co-author each other’s packages</li>
</ul></li>
<li>Take advantage of events e.g.&nbsp;<a href="https://hacktoberfest.digitalocean.com/">Hacktoberfest</a>, <a href="https://closember.org/">Closember</a></li>
<li>Start work on your next package!</li>
</ul>
</section>
<section id="congratulations" class="slide level2 inverse center center-h">
<h2>Congratulations 🎉</h2>
<p>You have written a package!</p>
<p>And reached the end of the R Packages workshop!</p>
</section></section>
<section>
<section id="end-matter" class="title-slide slide level1 inverse center">
<h1>End matter</h1>

</section>
<section id="references" class="slide level2">
<h2>References</h2>
<p>Wickham, H and Bryan, J, <em>R Packages</em> (2nd edn, in progress), <a href="https://r-pkgs.org" class="uri">https://r-pkgs.org</a>.</p>
<p>R Core Team, <em>Writing R Extensions</em>, <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-exts.html</a></p>
<p>rOpenSci Packages: Development, Maintenance, and Peer Review <a href="https://devguide.ropensci.org/index.html" class="uri">https://devguide.ropensci.org/index.html</a></p>
<p>rOpenSci Statistical Software Peer Review (especially Chapter 3: Guide for Authors) <a href="https://stats-devguide.ropensci.org/pkgdev.html" class="uri">https://stats-devguide.ropensci.org/pkgdev.html</a></p>
</section>
<section id="license" class="slide level2">
<h2>License</h2>
<p>Licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>).</p>
<!-- needs to be last chunk of presentation otherwise creates an extra slide -->
<!-- requires Quarto v1.3 -->
<!-- tint80 for border, tint20 for title -->
<!-- this should hopefully no longer be necessary in Quarto 1.4 -->
<!-- https://github.com/quarto-dev/quarto-cli/issues/5038 -->
<style type="text/css">
div.callout-note {
  border-left-color: #336695 !important;
}

div.callout-note.callout-style-default .callout-title {
  background-color: #CCD9E4 !important;
}

div.callout-caution {
  border-left-color: #AE4240 !important;
}

div.callout-caution.callout-style-default .callout-title {
  background-color: #ebd0cf !important;
}

div.callout-tip {
  border-left-color: #618157 !important;
}

div.callout-tip.callout-style-default .callout-title {
  background-color: #d8e0d5 !important;
}

div.callout-important {
  border-left-color: #775781 !important;
}

div.callout-important.callout-style-default .callout-title {
  background-color: #ddd5e0 !important;
}

div.callout-warning {
  border-left-color: #956133 !important;
}

div.callout-warning.callout-style-default .callout-title {
  background-color: #e4d8cc !important;
}
</style>

<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var filterRegex = new RegExp("https:\/\/github\.com\/Warwick-Stats-Resources\/advanced-r-packages");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
              // target, if specified
              link.setAttribute("target", "_blank");
          }
        }
    });
    </script>
    

</body></html>