[
  {
    "objectID": "slides/12-Rcpp-packages/index.html#overview",
    "href": "slides/12-Rcpp-packages/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/12-Rcpp-packages/index.html#resources",
    "href": "slides/12-Rcpp-packages/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/12-Rcpp-packages/index.html#license",
    "href": "slides/12-Rcpp-packages/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/09-testing/index.html#overview",
    "href": "slides/09-testing/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/09-testing/index.html#resources",
    "href": "slides/09-testing/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/09-testing/index.html#license",
    "href": "slides/09-testing/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/11-data-publication-maintenance/index.html#overview",
    "href": "slides/11-data-publication-maintenance/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/11-data-publication-maintenance/index.html#resources",
    "href": "slides/11-data-publication-maintenance/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/11-data-publication-maintenance/index.html#license",
    "href": "slides/11-data-publication-maintenance/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/08-documentation/index.html#overview",
    "href": "slides/08-documentation/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/08-documentation/index.html#resources",
    "href": "slides/08-documentation/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/08-documentation/index.html#license",
    "href": "slides/08-documentation/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#overview",
    "href": "slides/03-classes-methods/index.html#overview",
    "title": "Classes and Methods",
    "section": "Overview",
    "text": "Overview\n\nObject-oriented programming\nS3\nS4"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#object-oriented-programming-oop",
    "href": "slides/03-classes-methods/index.html#object-oriented-programming-oop",
    "title": "Classes and Methods",
    "section": "Object-oriented programming (OOP)",
    "text": "Object-oriented programming (OOP)\nGeneric functions provide a unified interface to methods for objects of a particular class, e.g.\n\nlibrary(palmerpenguins)\n\n\nsummary(penguins$species)\n\n   Adelie Chinstrap    Gentoo \n      152        68       124 \n\nsummary(penguins$flipper_length_mm)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n    172     190     197     201     213     231       2 \n\n\nHere, we use the same function, summary(), on objects of classes factor and integer and get different output for each."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#why-use-oop",
    "href": "slides/03-classes-methods/index.html#why-use-oop",
    "title": "Classes and Methods",
    "section": "Why use OOP?",
    "text": "Why use OOP?\nsummary() could contain several if-else statements, but\n\nthe code would become hard to follow\nonly the function authors (R Core) could add new implementations\n\nOOP\n\nseparates the code for different data types\navoids duplicating code by method inheritance from parent class(es) to child class (subclass)\nmakes it possible for external developers to add methods for new types of object\n\nthis can be particularly useful when writing R packages"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#oop-systems-in-r",
    "href": "slides/03-classes-methods/index.html#oop-systems-in-r",
    "title": "Classes and Methods",
    "section": "OOP Systems in R",
    "text": "OOP Systems in R\nThere are 3 main OOP systems in use:\n\n\nS3\n\nUsed in base R and most recommended/CRAN packages\nUse unless you have good reason not to\n\nS4\n\nUsed on Bioconductor\nAllow more complex relationships between classes and methods\n\nR6\n\nMore similar to OOP in other languages\nMay prefer if S3 insufficient and not aiming for Bioconductor\n\n\nA new OOP system, S7, is in development as a successor to S3 and S4.\n\n\nR6 v similar to Python OOP (also Java, C++) Julia not an OOP language, but does have concept of multiple dispatch - so maybe a bit more like S3 idea?"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#s3-objects",
    "href": "slides/03-classes-methods/index.html#s3-objects",
    "title": "Classes and Methods",
    "section": "S3 objects",
    "text": "S3 objects\nAn S3 object has a \"class\" attribute:\n\nattr(penguins$species, \"class\")\n\n[1] \"factor\"\n\nunique(penguins$species)\n\n[1] Adelie    Gentoo    Chinstrap\nLevels: Adelie Chinstrap Gentoo\n\n\nWith unclass() we obtain the underlying object, here an integer vector\n\nspecies_no &lt;- unclass(penguins$species)\nclass(species_no)\n\n[1] \"integer\"\n\nunique(species_no)\n\n[1] 1 3 2\n\nattributes(species_no)\n\n$levels\n[1] \"Adelie\"    \"Chinstrap\" \"Gentoo\""
  },
  {
    "objectID": "slides/03-classes-methods/index.html#creating-an-s3-object-with-stucture",
    "href": "slides/03-classes-methods/index.html#creating-an-s3-object-with-stucture",
    "title": "Classes and Methods",
    "section": "Creating an S3 object with stucture()",
    "text": "Creating an S3 object with stucture()\nYou can use structure() to define an S3 object with a class attribute:\n\ndp &lt;- 2\nstructure(list(pi = trunc(10^dp * pi)/10^dp, dp = dp),\n          class = \"pi_trunc\")\n\n$pi\n[1] 3.14\n\n$dp\n[1] 2\n\nattr(,\"class\")\n[1] \"pi_trunc\"\n\n\nPotentially further attributes can be added at the same time, but typically we would use a list to return all the required values."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#creating-an-s3-object-with-class",
    "href": "slides/03-classes-methods/index.html#creating-an-s3-object-with-class",
    "title": "Classes and Methods",
    "section": "Creating an S3 object with class()",
    "text": "Creating an S3 object with class()\nAlternatively, we can add a class attribute using the class() helper function:\n\npi2dp &lt;- list(pi = trunc(10^dp * pi)/10^dp, dp = dp)\nclass(pi2dp) &lt;- \"pi_trunc\"\npi2dp\n\n$pi\n[1] 3.14\n\n$dp\n[1] 2\n\nattr(,\"class\")\n[1] \"pi_trunc\""
  },
  {
    "objectID": "slides/03-classes-methods/index.html#s3-generic-functions",
    "href": "slides/03-classes-methods/index.html#s3-generic-functions",
    "title": "Classes and Methods",
    "section": "S3 Generic Functions",
    "text": "S3 Generic Functions\nS3 generic functions are simple wrappers to UseMethod()\n\nprint\n\nfunction (x, ...) \nUseMethod(\"print\")\n&lt;bytecode: 0x123c228e0&gt;\n&lt;environment: namespace:base&gt;\n\n\nThe UseMethod() function takes care of method dispatch: selecting the S3 method according to the class of the object passed as the first argument.\n\nclass(penguins$species[1:3])\n\n[1] \"factor\"\n\nprint(penguins$species[1:3])\n\n[1] Adelie Adelie Adelie\nLevels: Adelie Chinstrap Gentoo\n\n\nHere print() dispatches to the method print.factor()."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#inheritance",
    "href": "slides/03-classes-methods/index.html#inheritance",
    "title": "Classes and Methods",
    "section": "Inheritance",
    "text": "Inheritance\nThe class of an S3 object can be a vector of classes\n\nfit &lt;- glm(y ~ x, data = data.frame(y = 1:3, x = 4:6))\nclass(fit)\n\n[1] \"glm\" \"lm\" \n\n\nWe say fit is a \"glm\" object that inherits from class \"lm\".\nThe inherits() function can be used to test if an object inherits from a given class\n\ninherits(fit, \"glm\")\n\n[1] TRUE"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#method-dispatch",
    "href": "slides/03-classes-methods/index.html#method-dispatch",
    "title": "Classes and Methods",
    "section": "Method dispatch",
    "text": "Method dispatch\nAn S3 object can have more than one class e.g.\n\nclass(penguins)\n\n[1] \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\nUseMethod() works along the vector of classes (from the first class to the last), looks for a method for each class and dispatches to the first method it finds.\nIf no methods are defined for any of class, the default is used , e.g. print.default().\nIf there is no default, an error is thrown."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#s3-methods",
    "href": "slides/03-classes-methods/index.html#s3-methods",
    "title": "Classes and Methods",
    "section": "S3 Methods",
    "text": "S3 Methods\nSee the methods for a given S3 class\n\n# nls is nonlinear least squares\nmethods(class = \"nls\")\n\n [1] anova       coef        confint     deviance    df.residual fitted     \n [7] formula     logLik      nobs        predict     print       profile    \n[13] residuals   summary     vcov        weights    \nsee '?methods' for accessing help and source code\n\n\nSee the methods for a given generic function\n\nmethods(\"coef\")\n\n[1] coef.aov*     coef.Arima*   coef.default* coef.listof*  coef.maov*   \n[6] coef.nls*    \nsee '?methods' for accessing help and source code\n\n\nAsterisked methods are not exported."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#view-s3-methods",
    "href": "slides/03-classes-methods/index.html#view-s3-methods",
    "title": "Classes and Methods",
    "section": "View S3 methods",
    "text": "View S3 methods\nS3 methods need not be in the same package as the generic.\nFind an unexported method with getS3method()\n\ngetS3method(\"coef\", \"default\")\n\nfunction (object, complete = TRUE, ...) \n{\n    cf &lt;- object$coefficients\n    if (complete) \n        cf\n    else cf[!is.na(cf)]\n}\n&lt;bytecode: 0x125926470&gt;\n&lt;environment: namespace:stats&gt;\n\n\nIn code, call the generic, rather than calling the method directly."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#writing-s3-methods",
    "href": "slides/03-classes-methods/index.html#writing-s3-methods",
    "title": "Classes and Methods",
    "section": "Writing S3 Methods",
    "text": "Writing S3 Methods\nThe arguments of a new method should be a superset of the arguments of the generic\n\nargs(print)\n\nfunction (x, ...) \nNULL\n\n\nNew methods have the name format generic.class:\n\nprint.pi_trunc &lt;- function(x, abbreviate = TRUE, ...){\n  dp_text &lt;- ifelse(abbreviate, \"d.p.\", \"decimal places\")\n  cat(\"pi: \", x$pi, \" (\", x$dp, \" \", dp_text, \")\", sep = \"\")\n}\nprint(pi2dp)\n\npi: 3.14 (2 d.p.)"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#nextmethod",
    "href": "slides/03-classes-methods/index.html#nextmethod",
    "title": "Classes and Methods",
    "section": "NextMethod()",
    "text": "NextMethod()\nWe can explicitly call the next method that would be called by UseMethod() to reuse code whilst customising as required\n\nbody(t.data.frame)\n\n{\n    x &lt;- as.matrix(x)\n    NextMethod(\"t\")\n}\n\n\n\nbody(rep.factor)\n\n{\n    y &lt;- NextMethod()\n    structure(y, class = class(x), levels = levels(x))\n}\n\n\nIt is possible to call NextMethod() with arguments but it is safer to recall the generic with new arguments in this case.\n\nWe have seen that UseMethod() will dispatch to the method of the next class in the class vector if a method is not defined for the first class."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#implicit-classes",
    "href": "slides/03-classes-methods/index.html#implicit-classes",
    "title": "Classes and Methods",
    "section": "Implicit classes",
    "text": "Implicit classes\nis.object() can be used to find out if an object has a class (S3/S4/R6)\n\nis.object(factor(1:3))\n\n[1] TRUE\n\nis.object(1:3)\n\n[1] FALSE\n\n\nAn object that does not have an explicit class has an implicit class that will be used for S3 method dispatch. The implicit class can be found with .class2()\n\nM &lt;- matrix(1:12, nrow = 4)\nattr(M, \"class\")\n\nNULL\n\n.class2(M)\n\n[1] \"matrix\"  \"array\"   \"integer\" \"numeric\"\n\n\n\n.class2 since R 4.0.0"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#attributes",
    "href": "slides/03-classes-methods/index.html#attributes",
    "title": "Classes and Methods",
    "section": "Attributes",
    "text": "Attributes\n\nWe can take advantage of existing S3 methods by returning an object of a existing S3 class or an implicit class, using attributes to add custom information\n\nx &lt;- matrix(c(1:5, 2*(1:5)), ncol = 2)\ncenter_x &lt;- scale(x, scale = FALSE)\nclass(center_x)\n\n[1] \"matrix\" \"array\" \n\nsummary(center_x)\n\n       V1           V2    \n Min.   :-2   Min.   :-4  \n 1st Qu.:-1   1st Qu.:-2  \n Median : 0   Median : 0  \n Mean   : 0   Mean   : 0  \n 3rd Qu.: 1   3rd Qu.: 2  \n Max.   : 2   Max.   : 4  \n\n\n\nattr(center_x, \"scaled:center\")\n\n[1] 3 6\n\n\nThis can avoid the need to define new classes and methods, in simple cases."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#your-turn-part-1",
    "href": "slides/03-classes-methods/index.html#your-turn-part-1",
    "title": "Classes and Methods",
    "section": "Your turn (part 1)",
    "text": "Your turn (part 1)\n\nCreate a function to fit an ordinary least squares model given a response y and an explanatory variable x, that returns an object of a new class \"ols\", that inherits from \"lm\".\nDefine a print method for your function that it works as follows:\n\n\nset.seed(1)\nres &lt;- ols(x = 1:3, y = rnorm(3))\nres\n\nIntercept:  -0.217 \nSlope:  -0.1046 \n\n\nNote: I have set options(digits = 4) to limit the number of digits printed by default throughout this presentation (default is 7)."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#your-turn-part-2",
    "href": "slides/03-classes-methods/index.html#your-turn-part-2",
    "title": "Classes and Methods",
    "section": "Your turn (part 2)",
    "text": "Your turn (part 2)\n\nWrite a summary method for your ols class that uses NextMethod() to compute the usual lm summary, but return an object of class \"summary.ols\".\nWrite a print method for the \"summary.ols\" which works as follows:\n\n\nsummary(res)\n\nCoefficients: \n            Estimate Std. Error t value Pr(&gt;|t|)\n(Intercept)  -0.2170     1.1408 -0.1902   0.8804\nx            -0.1046     0.5281 -0.1980   0.8755\n\nResidual standard error:  0.7468 \nMultiple R-squared:  0.03774 \n\n\n\nwill get issues with inheriting e.g. add1 method"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#overview-of-s4",
    "href": "slides/03-classes-methods/index.html#overview-of-s4",
    "title": "Classes and Methods",
    "section": "Overview of S4",
    "text": "Overview of S4\nS4 methods\n\nuse specialised functions for creating classes, generics and methods\nallow multiple inheritance: a class can have multiple parents\nallow multiple dispatch: method selection based on the class of multiple objects\n\nThe methods package provides the functions required to use S4 classes and methods, so always load this package when using S4.\n\nuse import instead"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#s4-classes",
    "href": "slides/03-classes-methods/index.html#s4-classes",
    "title": "Classes and Methods",
    "section": "S4 Classes",
    "text": "S4 Classes\nAn S4 class can be defined with setClass(), with at least two arguments\n\nA name, by convention in UpperCamelCase.\nA named character vector specifying the names and classes of the slots (fields). Using the pseudo class ANY allows a slot to accept any type of object.\n\n\nsetClass(\"Person\", \n  slots = c(\n    name = \"character\", \n    date_of_birth = \"Date\",\n    date_of_death = \"Date\",\n    age_at_death = \"numeric\"\n  )\n)"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#creating-a-new-instance",
    "href": "slides/03-classes-methods/index.html#creating-a-new-instance",
    "title": "Classes and Methods",
    "section": "Creating a new instance",
    "text": "Creating a new instance\nA new instance of the S4 object can be created using new()\n\nflorence &lt;- new(\"Person\", \n                name = \"Florence Nightingale\",\n                date_of_birth = as.Date(\"1820-05-12\"),\n                date_of_death = as.Date(\"1910-08-13\"),\n                age_at_death = 90)\nstr(florence)\n\nFormal class 'Person' [package \".GlobalEnv\"] with 4 slots\n  ..@ name         : chr \"Florence Nightingale\"\n  ..@ date_of_birth: Date[1:1], format: \"1820-05-12\"\n  ..@ date_of_death: Date[1:1], format: \"1910-08-13\"\n  ..@ age_at_death : num 90\n\n\nNote that the second onwards argument names in new are the names in the vector passed to slots() when defining the class."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#examining-s4-objects",
    "href": "slides/03-classes-methods/index.html#examining-s4-objects",
    "title": "Classes and Methods",
    "section": "Examining S4 objects",
    "text": "Examining S4 objects\nFind the type of S4 class\n\nis.object(florence)\n\n[1] TRUE\n\nisS4(florence)\n\n[1] TRUE\n\n.class2(florence)\n\n[1] \"Person\"\n\n\nExtract the value of a slot (use @)\n\ngetSlots(\"Person\")\n\n         name date_of_birth date_of_death  age_at_death \n  \"character\"        \"Date\"        \"Date\"     \"numeric\" \n\nflorence@age_at_death # or slot(florence, \"age_at_death\")\n\n[1] 90\n\n\n\nclass() will only show class itself, not classes it inherits from"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#prototype",
    "href": "slides/03-classes-methods/index.html#prototype",
    "title": "Classes and Methods",
    "section": "Prototype",
    "text": "Prototype\nThe prototype argument can be used to specify default values, enabling partial specification\n\nsetClass(\"Person\", \n  slots = c(\n    name = \"character\", \n    date_of_birth = \"Date\",\n    date_of_death = \"Date\",\n    age_at_death = \"numeric\"\n  ),\n  prototype = list(\n    name = NA_character_, \n    date_of_birth = as.Date(NA),\n    date_of_death = as.Date(NA),\n    age_at_death = NA_real_\n  )\n)\n\nBe sure to use list() not c() for prototype – easy mistake to make!"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#initialize",
    "href": "slides/03-classes-methods/index.html#initialize",
    "title": "Classes and Methods",
    "section": "initialize()",
    "text": "initialize()\nAn initialize() method can be used for more control over initialization\n\n\nsetMethod(\"initialize\", \"Person\", \n  function(.Object, ...) {\n    # initialize with default method \n    # (named arguments override defaults)\n    .Object &lt;- callNextMethod(.Object, ...)\n    \n    # compute age at death if not specified\n    year &lt;- function(x) as.numeric(format(x, \"%Y\"))\n    m_day &lt;- function(x) as.numeric(format(x, \"%m%d\"))\n    \n    if (is.na(.Object@age_at_death)){\n      n_year &lt;- year(.Object@date_of_death) - year(.Object@date_of_birth)\n      birthday &lt;- m_day(.Object@date_of_death) &gt;= m_day(.Object@date_of_birth)\n      .Object@age_at_death &lt;- n_year - !birthday\n    }\n    .Object\n  })"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#creating-a-new-s4-obect-from-an-old-one",
    "href": "slides/03-classes-methods/index.html#creating-a-new-s4-obect-from-an-old-one",
    "title": "Classes and Methods",
    "section": "Creating a new S4 obect from an old one",
    "text": "Creating a new S4 obect from an old one\n\nflorence &lt;- new(\"Person\", \n                name = \"Florence Nightingale\",\n                date_of_birth = as.Date(\"1820-05-12\"))\nstr(florence)\n\nFormal class 'Person' [package \".GlobalEnv\"] with 4 slots\n  ..@ name         : chr \"Florence Nightingale\"\n  ..@ date_of_birth: Date[1:1], format: \"1820-05-12\"\n  ..@ date_of_death: Date[1:1], format: NA\n  ..@ age_at_death : num NA\n\n\n\nflorence &lt;- initialize(florence, \n                       date_of_death = as.Date(\"1910-08-13\")) \nstr(florence)\n\nFormal class 'Person' [package \".GlobalEnv\"] with 4 slots\n  ..@ name         : chr \"Florence Nightingale\"\n  ..@ date_of_birth: Date[1:1], format: \"1820-05-12\"\n  ..@ date_of_death: Date[1:1], format: \"1910-08-13\"\n  ..@ age_at_death : num 90"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#inheritance-1",
    "href": "slides/03-classes-methods/index.html#inheritance-1",
    "title": "Classes and Methods",
    "section": "Inheritance",
    "text": "Inheritance\nThe contains argument to setClass() specifies a class or classes to inherit slots and behaviour from\n\nsetClass(\"BanknoteCharacter\", \n  contains = \"Person\", \n  slots = c(\n    denomination = \"numeric\",\n    first_issue = \"Date\",\n    last_legal = \"Date\"\n  ),\n  prototype = list(\n    denomination = NA_real_,\n    first_issue = as.Date(NA),\n    last_legal = as.Date(NA)\n  )\n)"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#new-instance-of-subclass",
    "href": "slides/03-classes-methods/index.html#new-instance-of-subclass",
    "title": "Classes and Methods",
    "section": "New instance of subclass",
    "text": "New instance of subclass\nCreating a new instance of the subclass will fill in the slots of the superclass\n\nseriesD_10GBP &lt;- new(\"BanknoteCharacter\", \n                     name = \"Florence Nightingale\", \n                     date_of_birth = as.Date(\"1820-05-12\"), \n                     date_of_death = as.Date(\"1910-08-12\"))\nstr(seriesD_10GBP)\n\nFormal class 'BanknoteCharacter' [package \".GlobalEnv\"] with 7 slots\n  ..@ denomination : num NA\n  ..@ first_issue  : Date[1:1], format: NA\n  ..@ last_legal   : Date[1:1], format: NA\n  ..@ name         : chr \"Florence Nightingale\"\n  ..@ date_of_birth: Date[1:1], format: \"1820-05-12\"\n  ..@ date_of_death: Date[1:1], format: \"1910-08-12\"\n  ..@ age_at_death : num 90"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#show-defined-s4-class",
    "href": "slides/03-classes-methods/index.html#show-defined-s4-class",
    "title": "Classes and Methods",
    "section": "Show defined S4 Class",
    "text": "Show defined S4 Class\nUse showClass() to show (print) an S4 Class\n\nshowClass(\"Person\")\n\nClass \"Person\" [in \".GlobalEnv\"]\n\nSlots:\n                                                              \nName:           name date_of_birth date_of_death  age_at_death\nClass:     character          Date          Date       numeric\n\nKnown Subclasses: \"BanknoteCharacter\""
  },
  {
    "objectID": "slides/03-classes-methods/index.html#helper-function",
    "href": "slides/03-classes-methods/index.html#helper-function",
    "title": "Classes and Methods",
    "section": "Helper function",
    "text": "Helper function\nIf a user is to create these objects, define a helper function named by the class\n\nPerson &lt;- function(name = NA, date_of_birth = NA, date_of_death = NA) {\n  new(\"Person\", \n      name = as.character(name), \n      date_of_birth = as.Date(date_of_birth), \n      date_of_death = as.Date(date_of_death))\n}\n\n\nada &lt;- Person(\"Ada Lovelace\", \"1815-12-10\", \"1852-11-27\")\nstr(ada)\n\nFormal class 'Person' [package \".GlobalEnv\"] with 4 slots\n  ..@ name         : chr \"Ada Lovelace\"\n  ..@ date_of_birth: Date[1:1], format: \"1815-12-10\"\n  ..@ date_of_death: Date[1:1], format: \"1852-11-27\"\n  ..@ age_at_death : num 36\n\n\nPut computation in the initialize method where possible, so that it can be reused by subclasses."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#validator-function",
    "href": "slides/03-classes-methods/index.html#validator-function",
    "title": "Classes and Methods",
    "section": "Validator function",
    "text": "Validator function\nUse setValidity() to check constraints beyond data type, e.g. that all slots have the same length\n\nsetValidity(\"Person\", function(object) {\n  len &lt;- vapply(slotNames(\"Person\"), \n                function(x) length(slot(object, x)),\n                numeric(1))\n  if (!all(len == len[1])){\n    \"slots should all be the same length\"\n  } else {\n    TRUE\n  }\n})\n\n\nPerson(name = c(\"Ada Lovelace\", \"Grace Hopper\"), \n       date_of_birth = \"1815-12-10\")\n\nError in validObject(.Object): invalid class \"Person\" object: slots should all be the same length"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#s4-generic-functions",
    "href": "slides/03-classes-methods/index.html#s4-generic-functions",
    "title": "Classes and Methods",
    "section": "S4 generic functions",
    "text": "S4 generic functions\nS4 generic functions are (usually) a wrapper to standardGeneric(), e.g.\n\ngetGeneric(\"kronecker\")\n\nstandardGeneric for \"kronecker\" defined from package \"base\"\n\nfunction (X, Y, FUN = \"*\", make.dimnames = FALSE, ...) \nstandardGeneric(\"kronecker\")\n&lt;bytecode: 0x107189b98&gt;\n&lt;environment: 0x10717ade0&gt;\nMethods may be defined for arguments: X, Y, FUN, make.dimnames\nUse  showMethods(kronecker)  for currently available ones.\n\n\nBy default, all arguments apart from ... are used for method dispatch."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#writing-s4-generic-functions",
    "href": "slides/03-classes-methods/index.html#writing-s4-generic-functions",
    "title": "Classes and Methods",
    "section": "Writing S4 generic functions",
    "text": "Writing S4 generic functions\nUse setGeneric to define a new generic, with the optional signature argument to specify the arguments to use for method dispatch\n\nsetGeneric(\"myGeneric\", \n  function(x, ..., verbose = TRUE) standardGeneric(\"myGeneric\"),\n  signature = \"x\"\n)\n\n[1] \"myGeneric\"\n\n\nDo not use {} in the function definition here.\nS4 generics use lowerCamelCase names by convention."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#s4-methods",
    "href": "slides/03-classes-methods/index.html#s4-methods",
    "title": "Classes and Methods",
    "section": "S4 Methods",
    "text": "S4 Methods\nS4 methods for a generic function are defined with setMethod(), which takes three main arguments\n\nThe name of the generic function.\nThe signature specifying the classes for one or more of the arguments used for method dispatch\nThe method, defined as a function with a superset of the arguments of the generic"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#writing-s4-methods",
    "href": "slides/03-classes-methods/index.html#writing-s4-methods",
    "title": "Classes and Methods",
    "section": "Writing S4 Methods",
    "text": "Writing S4 Methods\n\nargs(getGeneric(\"show\"))\n\nfunction (object) \nNULL\n\n\n\nsetMethod(\"show\", \"Person\", function(object) {\n  cat(object@name, \"\\n\",\n      \"Born: \", format(object@date_of_birth, \"%d %B %Y\"), \"\\n\",\n      \"Died: \", format(object@date_of_death, \"%d %B %Y\"), \n                \" (aged \", object@age_at_death, \")\\n\",\n      sep = \"\")\n})\nflorence\n\nFlorence Nightingale\nBorn: 12 May 1820\nDied: 13 August 1910 (aged 90)"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#accessor-generics",
    "href": "slides/03-classes-methods/index.html#accessor-generics",
    "title": "Classes and Methods",
    "section": "Accessor generics",
    "text": "Accessor generics\nIt is good practice to define generics to get and set slots that the user should have access to.\nFor example, a generic to get and set the date of birth\n\nsetGeneric(\"dob\", function(x) standardGeneric(\"dob\"))\n\n[1] \"dob\"\n\nsetGeneric(\"dob&lt;-\", function(x, value) standardGeneric(\"dob&lt;-\"))\n\n[1] \"dob&lt;-\""
  },
  {
    "objectID": "slides/03-classes-methods/index.html#accessor-methods",
    "href": "slides/03-classes-methods/index.html#accessor-methods",
    "title": "Classes and Methods",
    "section": "Accessor methods",
    "text": "Accessor methods\nMethods can then be defined for multiple classes using the same interface.\nAccess the date of birth from a Person object\n\nsetMethod(\"dob\", \"Person\", function(x) x@date_of_birth)\ndob(florence)\n\n[1] \"1820-05-12\"\n\n\nChange the date of birth\n\nsetMethod(\"dob&lt;-\", \"Person\", function(x, value) {\n  x@date_of_birth &lt;- as.Date(value)\n  validObject(x)\n  x\n})\ndob(florence) &lt;- \"1820-05-11\"\ndob(florence)\n\n[1] \"1820-05-11\""
  },
  {
    "objectID": "slides/03-classes-methods/index.html#method-dispatch-1",
    "href": "slides/03-classes-methods/index.html#method-dispatch-1",
    "title": "Classes and Methods",
    "section": "Method dispatch",
    "text": "Method dispatch\n\nOne argument, single inheritance along vector of classes:\n\nSame as for S3\n\nOne argument, multiple inheritance:\n\nFollow all possible paths from child class to parent classes\nDispatch to first method found with the shortest path\n\nMultiple dispatch\n\nAs multiple inheritance, but follow possible paths for multiple arguments\n\n\nKeep it simple: dispatch on one or two arguments usually sufficient.\nAvoid ambiguous cases by defining methods earlier in path."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#pseudo-classes",
    "href": "slides/03-classes-methods/index.html#pseudo-classes",
    "title": "Classes and Methods",
    "section": "Pseudo-classes",
    "text": "Pseudo-classes\nMethods can be defined for the ANY pseudo-class\n\nOnly selected if no method found for real classes\n\nThe MISSING pseudo-class is useful for dispatch on two arguments: allow different behaviour if only one argument specified."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#your-turn",
    "href": "slides/03-classes-methods/index.html#your-turn",
    "title": "Classes and Methods",
    "section": "Your turn",
    "text": "Your turn\n\n\nCreate an S4 class Diag to represent a diagonal matrix with two slots:\n\n\nn the number of rows/cols\nx the numeric values of the diagonal elements Add a prototype to specify default values.\n\n\nTest your class by creating a new instance first without providing any values for the slots and then providing some example values.\nCreate an initialize method so that the n slot is computed automatically and does not have to be provided.\nCreate a Diag() helper function to create a new Diag object, with the user only having to specify the off-diaognal elements.\nCreate a show method to state the size of the matrix and print the off-diagonal elements."
  },
  {
    "objectID": "slides/03-classes-methods/index.html#resources",
    "href": "slides/03-classes-methods/index.html#resources",
    "title": "Classes and Methods",
    "section": "Resources",
    "text": "Resources\n\nMain reference for this section, goes a bit further (including R6): Wickham, H, Advanced R (2nd edn), Object-oriented programming section, https://adv-r.hadley.nz/oo.html\nFun example creating Turtle and TurtleWithPen classes to create simple graphics by moving the turtle: https://stuartlee.org/2019/07/09/s4-short-guide/"
  },
  {
    "objectID": "slides/03-classes-methods/index.html#license",
    "href": "slides/03-classes-methods/index.html#license",
    "title": "Classes and Methods",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/04-efficient-programming/index.html#overview",
    "href": "slides/04-efficient-programming/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/04-efficient-programming/index.html#resources",
    "href": "slides/04-efficient-programming/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/04-efficient-programming/index.html#license",
    "href": "slides/04-efficient-programming/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/06-r-with-cpp/index.html#overview",
    "href": "slides/06-r-with-cpp/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/06-r-with-cpp/index.html#resources",
    "href": "slides/06-r-with-cpp/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/06-r-with-cpp/index.html#license",
    "href": "slides/06-r-with-cpp/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/01-welcome/index.html#overview",
    "href": "slides/01-welcome/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/01-welcome/index.html#resources",
    "href": "slides/01-welcome/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/01-welcome/index.html#license",
    "href": "slides/01-welcome/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/00-template/index.html#overview",
    "href": "slides/00-template/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/00-template/index.html#resources",
    "href": "slides/00-template/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/00-template/index.html#license",
    "href": "slides/00-template/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/10-check-package-documentation/index.html#overview",
    "href": "slides/10-check-package-documentation/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/10-check-package-documentation/index.html#resources",
    "href": "slides/10-check-package-documentation/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/10-check-package-documentation/index.html#license",
    "href": "slides/10-check-package-documentation/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/05-profiling/index.html#overview",
    "href": "slides/05-profiling/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/05-profiling/index.html#resources",
    "href": "slides/05-profiling/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/05-profiling/index.html#license",
    "href": "slides/05-profiling/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/07-package-foundations/index.html#overview",
    "href": "slides/07-package-foundations/index.html#overview",
    "title": "SESSION TITLE",
    "section": "Overview",
    "text": "Overview\n\nWhat we’re covering"
  },
  {
    "objectID": "slides/07-package-foundations/index.html#resources",
    "href": "slides/07-package-foundations/index.html#resources",
    "title": "SESSION TITLE",
    "section": "Resources",
    "text": "Resources\nMaterial inspired by and remixed from:"
  },
  {
    "objectID": "slides/07-package-foundations/index.html#license",
    "href": "slides/07-package-foundations/index.html#license",
    "title": "SESSION TITLE",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/02-functions/index.html#overview",
    "href": "slides/02-functions/index.html#overview",
    "title": "Functions",
    "section": "Overview",
    "text": "Overview\n\nFunctions basics\nBeyond the basics\nError handling"
  },
  {
    "objectID": "slides/02-functions/index.html#components-of-a-function",
    "href": "slides/02-functions/index.html#components-of-a-function",
    "title": "Functions",
    "section": "Components of a function",
    "text": "Components of a function\nFunctions are defined by three components:\n\nthe name of the function\nthe arguments of the function, inside ( )\nthe body of the function that computes the result, inside { }\n\nThey are created using function()\n\nt_statistic &lt;- function(n) {\n    x &lt;- rnorm(n)\n    y &lt;- rnorm(n)\n    t.test(x, y)$statistic\n}"
  },
  {
    "objectID": "slides/02-functions/index.html#naming-functions",
    "href": "slides/02-functions/index.html#naming-functions",
    "title": "Functions",
    "section": "Naming functions",
    "text": "Naming functions\nAs with arguments, function names are important:\n\nuse a name that describes what it returns (e.g. t_statistic) or what it does (e.g. remove_na)\ntry to use one convention for combining words (e.g. snake case t_statistic or camel case tStatistic)\navoid using the same name as other functions"
  },
  {
    "objectID": "slides/02-functions/index.html#specified-arguments",
    "href": "slides/02-functions/index.html#specified-arguments",
    "title": "Functions",
    "section": "Specified arguments",
    "text": "Specified arguments\nspecified arguments are those named in the function definition, e.g.  in rnorm()\n\nargs(rnorm)\n\nfunction (n, mean = 0, sd = 1) \nNULL\n\n\nthe arguments are n, mean and sd.\nmean and sd have been given default values in the function definition, but n has not, so the function fails if the user does not pass a value to n\n\nrnorm()\n\nError in rnorm(): argument \"n\" is missing, with no default"
  },
  {
    "objectID": "slides/02-functions/index.html#name-and-order-of-arguments",
    "href": "slides/02-functions/index.html#name-and-order-of-arguments",
    "title": "Functions",
    "section": "Name and order of arguments",
    "text": "Name and order of arguments\nThe user can pass objects to these arguments using their names or by supplying unnamed values in the right order\n\nrnorm(5, 1, 10)\n\n[1]   3.176854  -2.243561   8.284291 -21.530589   1.259725\n\nrnorm(5, sd = 10)\n\n[1] 16.709199 -6.822982 21.836873 11.941988 -8.928574\n\n\nSo naming and order is important! Some guidelines\n\nput compulsory arguments first, e.g. data\nput rarely used arguments last, e.g. tolerance setting\nuse short but meaningful argument names\nif relevant, use the same argument names as similar functions"
  },
  {
    "objectID": "slides/02-functions/index.html#using-arguments",
    "href": "slides/02-functions/index.html#using-arguments",
    "title": "Functions",
    "section": "Using arguments",
    "text": "Using arguments\nArguments are used as objects in the function code.\nA new environment is created each time the function is called, separate from the global workspace.\n\nx &lt;- 1\ny &lt;- 3\nf &lt;- function(x, y){\n    a &lt;- 1\n    x &lt;- x + a\n    x + y\n}\nf(x, y)\n\n[1] 5\n\nx\n\n[1] 1\n\na\n\nError in eval(expr, envir, enclos): object 'a' not found"
  },
  {
    "objectID": "slides/02-functions/index.html#return-values-single",
    "href": "slides/02-functions/index.html#return-values-single",
    "title": "Functions",
    "section": "Return values (single)",
    "text": "Return values (single)\nBy default, functions return the object created by the last line of code\n\nf &lt;- function(x) {\n    x &lt;- x + 1\n    log(x)\n}\n\nAlternatively return() can be used to terminate the function and return a given object\n\nf &lt;- function(x) {\n    if (all(x &gt; 0)) return(log(x))\n    x[x &lt;= 0] &lt;- 0.1\n    log(x)\n}"
  },
  {
    "objectID": "slides/02-functions/index.html#return-values-multiple",
    "href": "slides/02-functions/index.html#return-values-multiple",
    "title": "Functions",
    "section": "Return values (multiple)",
    "text": "Return values (multiple)\nMultiple objects can be returned in a list:\n\nmean_and_sd &lt;- function(x) {\n  res_mean &lt;- mean(x, na.rm = TRUE)\n  res_sd &lt;- sd(x)\n  \n  list(mean = res_mean,\n       sd = res_sd)\n}\n\nx &lt;- 1:3\nmean_and_sd(x)\n\n$mean\n[1] 2\n\n$sd\n[1] 1"
  },
  {
    "objectID": "slides/02-functions/index.html#rstudio-helper",
    "href": "slides/02-functions/index.html#rstudio-helper",
    "title": "Functions",
    "section": "RStudio helper",
    "text": "RStudio helper\nRStudio has a helper to turn code into a function:\n\nSelect the lines of code that will become the body of the function.\nSelect “Code” &gt; “Extract Function” from the menu.\nEnter the name of the new function in the dialog box.\nEdit the arguments if required.\nAdd/edit the last line to specify the return value."
  },
  {
    "objectID": "slides/02-functions/index.html#exercise-files",
    "href": "slides/02-functions/index.html#exercise-files",
    "title": "Functions",
    "section": "Exercise files",
    "text": "Exercise files\nhttps://github.com/Warwick-Stats-Resources/Advanced-R-exercises\n\nYou can get the files by creating a new project from version control in RStudio (if set up)\nBy going to the ‘Code’ button in the repo, then ‘Download ZIP’, then opening Advanced-R-exercises.Rproj."
  },
  {
    "objectID": "slides/02-functions/index.html#exercise-1",
    "href": "slides/02-functions/index.html#exercise-1",
    "title": "Functions",
    "section": "Exercise 1",
    "text": "Exercise 1\nIn the qq_norm chunk of exercises.Rmd there is some code to compute the slope and intercept of the line to add to a quantile-quantile plot, comparing sample quantiles against theoretical quantiles of a N(0, 1) distribution.\nTurn this code into a function named qq_norm taking the sample data as an argument and returning the slope and intercept in a list.\nRun this chunk to source the function, then run the normal-QQ chunk which uses the qq_norm function to compute parameters for an example plot."
  },
  {
    "objectID": "slides/02-functions/index.html#function-environment",
    "href": "slides/02-functions/index.html#function-environment",
    "title": "Functions",
    "section": "Function environment",
    "text": "Function environment\nA new environment is created each time the function is called, separate from the global workspace.\n\nx &lt;- 1\ny &lt;- 3\nf &lt;- function(x, y){\n    a &lt;- 1\n    x &lt;- x + a\n    x + y\n}\nf(x, y)\n\n[1] 5\n\nx\n\n[1] 1\n\na\n\nError in eval(expr, envir, enclos): object 'a' not found"
  },
  {
    "objectID": "slides/02-functions/index.html#lexical-scoping",
    "href": "slides/02-functions/index.html#lexical-scoping",
    "title": "Functions",
    "section": "Lexical scoping",
    "text": "Lexical scoping\nIf an object is not defined within the function, or passed in as an argument, R looks for it in the parent environment where the function was defined\n\nx &lt;- 1\ny &lt;- 3\nf &lt;- function(x){\n    x + y\n}\nf(x)\n\n[1] 4\n\nrm(y)\nf(x)\n\nError in f(x): object 'y' not found\n\n\nIt is safest (and best practice) to use arguments rather than depend on global variables!"
  },
  {
    "objectID": "slides/02-functions/index.html#unspecified-arguments",
    "href": "slides/02-functions/index.html#unspecified-arguments",
    "title": "Functions",
    "section": "Unspecified arguments",
    "text": "Unspecified arguments\n... or the ellipsis allow unspecified arguments to be passed to the function.\nThis device is used by functions that work with arbitrary numbers of objects, e.g. \n\nargs(sum)\n\nfunction (..., na.rm = FALSE) \nNULL\n\nsum(1, 4, 10, 2)\n\n[1] 17\n\n\nIt can also be used to pass on arguments to another function, e.g.\n\nt_statistic &lt;- function(x, g, ...) {\n    t.test(x ~ g, ...)$stat\n}"
  },
  {
    "objectID": "slides/02-functions/index.html#using-...",
    "href": "slides/02-functions/index.html#using-...",
    "title": "Functions",
    "section": "Using ...",
    "text": "Using ...\nArguments passed to ... can be collected into a list for further analysis\n\nmeans &lt;- function(...){\n    dots &lt;- list(...)\n    vapply(dots, mean, numeric(1), na.rm = TRUE)\n}\nx &lt;- 1\ny &lt;- 2:3\nmeans(x, y)\n\n[1] 1.0 2.5\n\n\nSimilarly the objects could be concatenated using c()"
  },
  {
    "objectID": "slides/02-functions/index.html#side-effects",
    "href": "slides/02-functions/index.html#side-effects",
    "title": "Functions",
    "section": "Side effects",
    "text": "Side effects\nA side-effect is a change outside the function that occurs when the function is run, e.g.\n\nplot to the graphics window or other device\nprinting output to the console\nwrite data to a file\n\nA function can have many side-effects and a return value, but it is best practice to have a separate function for each task, e.g creating a plot or a table.\nWriting to file is usually best done outside a function."
  },
  {
    "objectID": "slides/02-functions/index.html#excercise-2",
    "href": "slides/02-functions/index.html#excercise-2",
    "title": "Functions",
    "section": "Excercise 2",
    "text": "Excercise 2\nCopy your qq_norm function to the qq chunk and rename it qq.\nAdd a new argument qfun to specify any quantile function (e.g. qt, qf, etc). Give it the default value qnorm.\nIn the body of qq, use qfun instead of qnorm to compute q_theory. Use ... to pass on arguments to qfun.\nRun the qq chunk and test your function on the t-QQ chunk."
  },
  {
    "objectID": "slides/02-functions/index.html#using-functions-from-other-packages",
    "href": "slides/02-functions/index.html#using-functions-from-other-packages",
    "title": "Functions",
    "section": "Using functions from other packages",
    "text": "Using functions from other packages\nIn our own functions (outside of packages), it is possible to use library\n\nscale_rows &lt;- function(X){\n    library(matrixStats)\n    X &lt;- X - rowMeans(X)\n    X/rowSds(X)\n}\n\nBut this loads the entire package, potentially leading to clashes with functions from other packages. It is better to use the import package:\n\nscale_rows &lt;- function(X){\n    import::from(matrixStats, rowSds)\n    X &lt;- X - rowMeans(X)\n    X/rowSds(X)\n}\nscale_rows(matrix(1:12, nrow = 3))\n\n\nThen in our script we don’t need to use library(matrixStats) for rowSds to work (it must be installed though)!"
  },
  {
    "objectID": "slides/02-functions/index.html#custom-ggplot",
    "href": "slides/02-functions/index.html#custom-ggplot",
    "title": "Functions",
    "section": "Custom ggplot",
    "text": "Custom ggplot\nggplot2, like dplyr and other tidyverse packages, uses non-standard evaluation, that is, it refers to variable names in a data frame as if they were objects in the current environment\n\nggplot(mtcars, aes(x = mpg, y= disp)) +\n    geom_point()\n\nTo emulate this, we have to need to embrace arguments\n\nggscatter &lt;- function(data, x, y){\n    import::from(ggplot2, ggplot, aes, geom_point)\n    ggplot(data, aes(x = {{ x }}, y = {{ y }})) +\n        geom_point()\n}\nggscatter(mtcars, x = mpg, y = disp)"
  },
  {
    "objectID": "slides/02-functions/index.html#externalizing-function-code",
    "href": "slides/02-functions/index.html#externalizing-function-code",
    "title": "Functions",
    "section": "Externalizing function code",
    "text": "Externalizing function code\nIt is a good idea to separate function code from analysis code.\nPut related functions together and source as required\n\nsource(\"modelFunctions.R\")\nsource(\"plotFunctions.R\")\n\nThe import package enables only necessary, top-level functions to be imported to the global workspace:\n\nimport::here(poissonModel, quasiPoissonModel, .from = \"modelFunctions.R\")\n\nIn either case, import::from commands can be put outside the function body to make the code easier to read."
  },
  {
    "objectID": "slides/02-functions/index.html#sanity-checks",
    "href": "slides/02-functions/index.html#sanity-checks",
    "title": "Functions",
    "section": "Sanity checks",
    "text": "Sanity checks\nTo avoid mistakes, you may want to add some basic sanity checks\n\nlogit &lt;- function(p){\n    stopifnot(p &gt; 0 & p &lt; 1)\n    log(p/(1 - p))\n}\nlogit(2)\n\nError in logit(2): p &gt; 0 & p &lt; 1 is not TRUE\n\nlogit(0.5)\n\n[1] 0"
  },
  {
    "objectID": "slides/02-functions/index.html#error-messages",
    "href": "slides/02-functions/index.html#error-messages",
    "title": "Functions",
    "section": "Error messages",
    "text": "Error messages\nOften the R messages can be quite obscure\n\nzap &lt;- function(x) if (max(x) &lt; 1e7) 0 else x\nx &lt;- c(1, 2, NA)\nzap(x)\n\nError in if (max(x) &lt; 1e+07) 0 else x: missing value where TRUE/FALSE needed\n\n\nMore helpful error message can be implemented using stop\n\nzap &lt;- function(x) {\n    if (any(is.na(x))) stop(\"missing values in x\\nare\", \n                            \" not allowed\")\n    if (max(x) &lt; 1e7) 0 else x\n}\nzap(x)\n\nError in zap(x): missing values in x\nare not allowed"
  },
  {
    "objectID": "slides/02-functions/index.html#warning-messages",
    "href": "slides/02-functions/index.html#warning-messages",
    "title": "Functions",
    "section": "Warning messages",
    "text": "Warning messages\nWarning messages should be given using warning()\n\nsafe_log2 &lt;- function(x) {\n    if (any(x == 0)) {\n        x[x == 0] &lt;- 0.1\n        warning(\"zeros replaced by 0.1\")\n    }\n    log(x, 2)\n}\nsafe_log2(0:1)\n\n[1] -3.321928  0.000000\n\n\nOther messages can be printed using message()."
  },
  {
    "objectID": "slides/02-functions/index.html#suppressing-warnings",
    "href": "slides/02-functions/index.html#suppressing-warnings",
    "title": "Functions",
    "section": "Suppressing warnings",
    "text": "Suppressing warnings\nIf a warning is expected, you may wish to suppress it\n\nlog(c(3, -1))\n\n[1] 1.098612      NaN\n\nx &lt;- suppressWarnings(log(c(3, -1)))\n\nAll warnings will be suppressed however!\nSimilarly suppressMessages() will suppress messages."
  },
  {
    "objectID": "slides/02-functions/index.html#catching-errorswarnings",
    "href": "slides/02-functions/index.html#catching-errorswarnings",
    "title": "Functions",
    "section": "Catching errors/warnings",
    "text": "Catching errors/warnings\nThe purrr package has various functions to catch issues.\npossibly() lets you modify a function to return a specified value when there is an error\n\nlog(\"a\")\n\nError in log(\"a\"): non-numeric argument to mathematical function\n\nlibrary(purrr)\nposs_log &lt;- possibly(log, otherwise = NA)\nposs_log(\"a\")\n\n[1] NA\n\n\nsafely() works in a similar way but returns a list with elements \"result\" and \"error\", so you can record the error message(s).\nquietly() lets you modify a function to return printed output, warnings and messages along with the result."
  },
  {
    "objectID": "slides/02-functions/index.html#traceback",
    "href": "slides/02-functions/index.html#traceback",
    "title": "Functions",
    "section": "traceback()",
    "text": "traceback()\nWhen an unexpected error occurs, there are several ways to track down the source of the error, e.g. traceback()\n\nf1 &lt;- function(x){ f2(x) }\nf2 &lt;- function(x){ x + qqqq }\nf1(10)\n\nError in f2(x): object 'qqqq' not found\n\n\n\ntraceback()\n\n\n\n2: f2(2) at #1\n1: f1(10)"
  },
  {
    "objectID": "slides/02-functions/index.html#traceback-in-rstudio",
    "href": "slides/02-functions/index.html#traceback-in-rstudio",
    "title": "Functions",
    "section": "traceback() in RStudio",
    "text": "traceback() in RStudio\nIn RStudio, if Debug &gt; On Error &gt;  Error Inspector is checked and the traceback has at least 3 calls, the option to show traceback is presented\n\nf1 &lt;- function(x){ f2(x) }\nf2 &lt;- function(x){ f3(x) }\nf3 &lt;- function(x){ x + qqqq }\nf1(10)\n\nError in f3(x): object 'qqqq' not found\n\n\n\nRStudio error inspector giving options to show traceback or rerun with debug\nNote here about the importance of separating tasks into smaller functions - easier to debug!"
  },
  {
    "objectID": "slides/02-functions/index.html#debugonce",
    "href": "slides/02-functions/index.html#debugonce",
    "title": "Functions",
    "section": "debugonce()",
    "text": "debugonce()\ndebugonce() flags a function for debugging the next time it is called\n\ndebugonce(f2)\nf1(10)\n\nError in f3(x): object 'qqqq' not found\n\n\n\n\ndebugging in: f2(2)\ndebug at #1: {\n    x + qqqq\n}\nBrowse[2]&gt; ls()\n[1] \"x\"\nBrowse[2]&gt; Q\n\n\nWhen in debug mode type n or ↵ to step to the next line and c to continue to the end of a loop or the end of the function."
  },
  {
    "objectID": "slides/02-functions/index.html#breakpoints",
    "href": "slides/02-functions/index.html#breakpoints",
    "title": "Functions",
    "section": "Breakpoints",
    "text": "Breakpoints\nStepping through a function line by line can be tedious. In RStudio we can set custom breakpoints in the source pane\n\n\nSet breakpoint in RStudio \n\nSource the code"
  },
  {
    "objectID": "slides/02-functions/index.html#start-debugging-from-breakpoints",
    "href": "slides/02-functions/index.html#start-debugging-from-breakpoints",
    "title": "Functions",
    "section": "Start debugging from breakpoints",
    "text": "Start debugging from breakpoints\n\n\nhere::here()\n\n[1] \"/Users/ellakaye/Rprojs/mine/advanced-r-packages\"\n\n\n\nn is automatically printed, so the first prompt is at the breakpoint"
  },
  {
    "objectID": "slides/02-functions/index.html#rstudios-rerun-with-debug",
    "href": "slides/02-functions/index.html#rstudios-rerun-with-debug",
    "title": "Functions",
    "section": "RStudio’s Rerun with Debug",
    "text": "RStudio’s Rerun with Debug\nThe Rerun with Debug option will rerun the command that created the error and enter debug mode where the error occurred.\nGood points:\n\nEasy to enter debug mode (when option shown)\nCan click in Traceback pane to view objects at any point in the call stack\n\nBad points:\n\nMay have gone past source of error (use breakpoints instead)\nMay enter deeply nested function: use recover() to select an earlier entry point\n\nAlternatively use options(error = recover), run code to debug, then set options(error = NULL)."
  },
  {
    "objectID": "slides/02-functions/index.html#exercise-3",
    "href": "slides/02-functions/index.html#exercise-3",
    "title": "Functions",
    "section": "Exercise 3",
    "text": "Exercise 3\nOpen debug_practice.R and source the function f().\nTry to run f(10) - there’s an error! Use traceback() to see which function call generated the error, then fix the problem.\nRun f(10) again - there is another error! Can you fix this directly given the error message?\nTry running f(1) - is the result what you expected? Use debugonce() to set debugging on f() and re-run f(1). Step through the function, printing each object as it is created to see what is happening.\nCan you think how to improve the function? See if you can modify the function to give a sensible result for any integer."
  },
  {
    "objectID": "slides/02-functions/index.html#resources",
    "href": "slides/02-functions/index.html#resources",
    "title": "Functions",
    "section": "Resources",
    "text": "Resources\n\nFunctions chapter from Advanced R, Hadley Wickham\nhttps://adv-r.hadley.nz/functions.html\nDebugging chapter from Advanced R, Hadley Wickham\nhttps://adv-r.hadley.nz/debugging.html\nDebugging from the RStudio User Guide\nhttps://docs.posit.co/ide/user/ide/guide/code/debugging.html"
  },
  {
    "objectID": "slides/02-functions/index.html#license",
    "href": "slides/02-functions/index.html#license",
    "title": "Functions",
    "section": "License",
    "text": "License\nLicensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)."
  },
  {
    "objectID": "slides/02-functions/index.html#documenting-functions",
    "href": "slides/02-functions/index.html#documenting-functions",
    "title": "Functions",
    "section": "Documenting functions",
    "text": "Documenting functions\nComments help to record what a function does\n\n# reorder x by grouping variable g\ngroupSort &lt;- function(x, g) {\n    ord &lt;- order(g) #indices for ascending order of g\n    x[ord]\n}\n\nThe docstring package enables roxygen comments to be turned into a help file\n\nlibrary(docstring)\ngroupSort &lt;- function(x, g) {\n    #' Reorder a Vector by a Grouping Variable\n    #'\n    #' @param x a vector\n    #' @param g a grouping variable\n    ord &lt;- order(g) #indices for ascending order of g\n    x[ord]\n}"
  },
  {
    "objectID": "slides/02-functions/index.html#view-the-help-file-as-usual",
    "href": "slides/02-functions/index.html#view-the-help-file-as-usual",
    "title": "Functions",
    "section": "View the help file as usual",
    "text": "View the help file as usual\n\n?groupSort\n\n\nHTML documentation generated by docstringFor fuller documentation, see the docstring vignette.\nADD LINK TO VIGNETTE"
  },
  {
    "objectID": "slides/02-functions/index.html#roxygen",
    "href": "slides/02-functions/index.html#roxygen",
    "title": "Functions",
    "section": "roxygen",
    "text": "roxygen\nADD A SLIDE WITH SOME RESOURCES ABOUT ROXYGEN"
  },
  {
    "objectID": "slides/02-functions/index.html#validation",
    "href": "slides/02-functions/index.html#validation",
    "title": "Functions",
    "section": "Validation",
    "text": "Validation\nWhen developing a function, we will want to validate its output.\nA simple approach is to try different inputs\n\nlog_2 &lt;- function(x){\n    log(x, 2)\n}\nlog_2(2^2)\n\n[1] 2\n\nlog_2(2^0)\n\n[1] 0\n\n\nDoing this each time we change the function becomes tedious to check and error-prone as we miss important tests."
  },
  {
    "objectID": "slides/02-functions/index.html#unit-testing",
    "href": "slides/02-functions/index.html#unit-testing",
    "title": "Functions",
    "section": "Unit testing",
    "text": "Unit testing\nThe testthat packages allows us to create a test suite:\nADD LINK\n\ncontext(\"log_2 works correctly\")\n\ntest_that(\"log_2 returns log to base 2\", {\n    expect_equal(log_2(2^3), 3)\n    expect_equal(log_2(2^0), 0)\n})\n\ntest_that(\"negative values give error\", {\n    expect_error(log_2(2^-1))\n})"
  },
  {
    "objectID": "slides/02-functions/index.html#running-tests",
    "href": "slides/02-functions/index.html#running-tests",
    "title": "Functions",
    "section": "Running tests",
    "text": "Running tests\nIf we save the tests in a file, e.g. tests.R, we can use test_file() to run and check all tests:\n\nlibrary(testthat)\ntest_file(\"tests.R\")\n\n\n\n√ | OK F W S | Context\nx |  2 1     | log_2 works correctly\n--------------------------------------------------------------------------------\ntests.R:9: failure: negative values give error\n`log_2(2^-1)` did not throw an error.\n--------------------------------------------------------------------------------\n\n== Results =====================================================================\nOK:       2\nFailed:   1\nWarnings: 0\nSkipped:  0"
  },
  {
    "objectID": "slides/02-functions/index.html#your-turn",
    "href": "slides/02-functions/index.html#your-turn",
    "title": "Functions",
    "section": "Your turn!",
    "text": "Your turn!\nCopy the qq function to a new R script and save as functions.R. Add roxygen comments at the start of the function body to define a title and parameter documentation.\nRun the documentation chunk of exercises.Rmd to view your documentation.\nOpen the tests.R script. Using expect_equal add some tests for the following\n\na sample of 100,000 from N(0, 1) gives approximately slope 1, intercept 0\na sample of 100,000 from N(0, 1/2) gives approximately slope 2, intercept 0\nsample of 100,000 from N(2, 1) gives approximately slope 1, intercept -2\n\nUse the tol argument in expect_equal to set a tolerance of 0.01.\nRun the tests chunk of exercises.Rmd to run your tests with test_file. Try changing the expected tolerance to get a test to fail."
  },
  {
    "objectID": "schedule.html",
    "href": "schedule.html",
    "title": "Schedule",
    "section": "",
    "text": "Monday June 19th\n\n\n\nTime\nSession\n\n\n\n\n11:00–11:10\nWelcome and introduction\n\n\n11:10–12:30\nAdvanced R: Functions\n\n\n12:30–13:30\nLunch\n\n\n13:30–15:00\nAdvanced R: Classes and methods\n\n\n15:00–15:30\nCoffee break\n\n\n15:30–17:00\nAdvanced R: Efficient programming\n\n\n\n\n\nTuesday June 20th\n\n\n\nTime\nSession\n\n\n\n\n9:30–10:30\nAdvanced R: Profiling\n\n\n10:30–11:00\nCoffee break\n\n\n11:00–12:30\nAdvanced R: C++ and Rcpp\n\n\n12:30–13:30\nLunch\n\n\n13:30–15:00\nR Packages: Package foundations\n\n\n15:00–15:30\nCoffee break\n\n\n15:30–17:00\nR Packages: Documentation\n\n\n\n\n\nWednesday June 21st\n\n\n\nTime\nSession\n\n\n\n\n9:30–10:30\nR Packages: Testing\n\n\n10:30–11:00\nCoffee break\n\n\n11:00–12:30\nR Packages: Check and package documentation\n\n\n12:30–13:30\nLunch\n\n\n13:30–15:00\nR Packages: Packaging data; publication and maintenance\n\n\n15:00–15:30\nCoffee break\n\n\n15:30–17:00\nR Packages: Rcpp"
  },
  {
    "objectID": "content.html",
    "href": "content.html",
    "title": "Content",
    "section": "",
    "text": "Date\n\n\nTitle\n\n\n\n\n\n\nJun 19, 2023\n\n\nWelcome and introduction\n\n\n\n\nJun 19, 2023\n\n\nAdvanced R: Functions\n\n\n\n\nJun 19, 2023\n\n\nAdvanced R: Classes and methods\n\n\n\n\nJun 19, 2023\n\n\nAdvanced R: Efficient programming\n\n\n\n\nJun 20, 2023\n\n\nAdvanced R: Profiling\n\n\n\n\nJun 20, 2023\n\n\nAdvanced R: C++ and Rcpp\n\n\n\n\nJun 20, 2023\n\n\nR Packages: Package foundations\n\n\n\n\nJun 20, 2023\n\n\nR Packages: Documentation\n\n\n\n\nJun 21, 2023\n\n\nR Packages: Testing\n\n\n\n\nJun 21, 2023\n\n\nR Packages: Check and package documentation\n\n\n\n\nJun 21, 2023\n\n\nR Packages: Packaging data; publication and maintenance\n\n\n\n\nJun 21, 2023\n\n\nR Packages: Rcpp\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Advanced R and R Packages Workshop",
    "section": "",
    "text": "Welcome to the website for the Advanced R and R Packages Workshop.\nThis is a three-day workshop, taking place at The University of Warwick, June 19th-21st, 2023.\nIt is aimed primarily at graduate students in the Department of Statistics, but open to all interested members of the university, space permitting. For more details on how to register, see the join page."
  },
  {
    "objectID": "index.html#syllabus-overview",
    "href": "index.html#syllabus-overview",
    "title": "Advanced R and R Packages Workshop",
    "section": "Syllabus overview",
    "text": "Syllabus overview\nThe Advanced R sections of the workshop covers functions, classes and methods, efficient programming, profiling, C++ and Rcpp.\nThe R Packages sections of the workshop covers the entire process of creating a package, including data, checking and testing, all levels of documentation, publication and maintenance. The final session covers the advanced topic of using Rcpp code in a package.\nFor more details, see the content page."
  },
  {
    "objectID": "index.html#session-details",
    "href": "index.html#session-details",
    "title": "Advanced R and R Packages Workshop",
    "section": "Session details",
    "text": "Session details\n   June 19th-21st, 2023\n   Room OC1.02, The Oculus, University of Warwick\n   Lunch provided each day\n   See the full schedule."
  },
  {
    "objectID": "index.html#instructor-details",
    "href": "index.html#instructor-details",
    "title": "Advanced R and R Packages Workshop",
    "section": "Instructor details",
    "text": "Instructor details\n   Ella Kaye and Heather Turner\n   ella.m.kaye@warwick.ac.uk and h.turner.1@warwick.ac.uk"
  },
  {
    "objectID": "index.html#prerequistes",
    "href": "index.html#prerequistes",
    "title": "Advanced R and R Packages Workshop",
    "section": "Prerequistes",
    "text": "Prerequistes\nPlease see the prerequisites page for details on getting set up in advance of the workshop."
  },
  {
    "objectID": "join.html",
    "href": "join.html",
    "title": "Join the workshop",
    "section": "",
    "text": "This course is aimed primarily at graduate students in the Department of Statistics at the University of Warwick. It is also open to 3rd and 4th year undergraduate students and members of staff in the Department of Statistics.\nSpace permitting, the workshop is also open to all interested members of the University of Warwick.\nTo express your interest in joining the workshop, please fill in the form, linked below (it may take a moment to load).\nPlease sign-up by June 11th. Places will be confirmed by e-mail by June 12th."
  },
  {
    "objectID": "prerequisites.html",
    "href": "prerequisites.html",
    "title": "Prerequisites",
    "section": "",
    "text": "This is an advanced R course, so basic knowledge of R is expected.\nThe first three sessions of Warwick-Stats-Resources R Foundations course covers the required material:\n\nIntroduction to R and RStudio\nData Wrangling\nProgramming in R\n\nMembers of the University of Warwick can have access to video recordings of these sessions being taught online in Autumn Term 2022. Please contact ella.m.kaye@warwick.ac.uk to be sent the links."
  },
  {
    "objectID": "prerequisites.html#prior-knowledge",
    "href": "prerequisites.html#prior-knowledge",
    "title": "Prerequisites",
    "section": "",
    "text": "This is an advanced R course, so basic knowledge of R is expected.\nThe first three sessions of Warwick-Stats-Resources R Foundations course covers the required material:\n\nIntroduction to R and RStudio\nData Wrangling\nProgramming in R\n\nMembers of the University of Warwick can have access to video recordings of these sessions being taught online in Autumn Term 2022. Please contact ella.m.kaye@warwick.ac.uk to be sent the links."
  },
  {
    "objectID": "prerequisites.html#git-and-github",
    "href": "prerequisites.html#git-and-github",
    "title": "Prerequisites",
    "section": "git and GitHub",
    "text": "git and GitHub\nAlthough there will be some time dedicated to this in the workshop, it would be advantageous if you already have:\n\ngit installed on your computer. See https://git-scm.com/book/en/v2/Getting-Started-Installing-Git\na GitHub account\na GitHub PAT configured to work with RStudio\n\nThe git and GitHub material from a previous version of this workshop walks through the setup."
  },
  {
    "objectID": "prerequisites.html#r-and-rstudio",
    "href": "prerequisites.html#r-and-rstudio",
    "title": "Prerequisites",
    "section": "R and RStudio",
    "text": "R and RStudio\nPlease ensure that you have up-to-date versions of R and RStudio installed prior to the first session. If you are on MacOS/Linux or a self-managed Windows laptop, install the latest versions, currently R-4.3.0 and RStudio-2023.03.1.\nWe also strongly recommend all participants to install the development tools to avoid potential issues installing packages.\n\nITS Managed Windows Machines\nR and RStudio are available on student computers (via Start, All Programs) and also staff computers (via Start, All Programs, Software Center).\n\n\nInstalling R\nDownload the pre-compiled binary for your OS from https://cloud.r-project.org/ and install. More specifically:\nFor Windows\nClick “Download R for Windows”, then “base”, then “Download R-4.3.0 for Windows”. This will download an .exe file; once downloaded, open to start the installation.\nFor Mac\nClick “Download R for macOS”, then “R-4.3.0-arm64.pkg” (the first option) to download the installer for Macs with Apple Silicon chips or “R-4.3.0-x86_64.pkg” (the second option) to download the installer for Macs with Intel chips. Run the installer to complete installation.\nFor Linux\nClick “Download R for Linux”. Instructions on installing are given for Debian, Fedora, Redhat, Suse and Ubuntu distributions. Where there is a choice, install both r-base and r-base-dev.\n\n\nInstalling R Studio Desktop (Open Source Edition)\nDownloads are available from https://posit.co/download/rstudio-desktop/#download\nDownload the relevant installer either under the “Install RStudio” header or, scrolling down the page, from the ‘All installers and Tarballs’ section. Run the installer to complete installation.\n\n\nDevelopment Tools\nSome additional tools may be required to compile R packages from source.\nFor Windows\nNOTE: This does not require admin rights.\nDownload the Rtools installer that matches your version of R from https://cran.r-project.org/bin/windows/Rtools/. Run the installer, Rtools.exe, keeping the default settings.\nFor Mac\nInstall Command Line Tools.\nEither:\n\nDownload and install XCode from the Mac AppStore: http://itunes.apple.com/us/app/xcode/id497799835?mt=12\nWithin XCode go to Preferences -&gt; Downloads and install the Command Line Tools\n\nOr for a smaller download size:\n\nRegister as an Apple Developer (free) here: https://developer.apple.com/programs/register/\nDownload the Command Line Tools for XCode appropriate for the version of OS X you are running from here: https://developer.apple.com/downloads/\n\nFor Linux\nIf you installed r-base-dev, when installing R, you should have all you need to build packages from source. Otherwise return to the instructions for installing R for your distribution and follow the instructions there to install the additional tools."
  },
  {
    "objectID": "content/12-Rcpp-packages/index.html",
    "href": "content/12-Rcpp-packages/index.html",
    "title": "R Packages: Rcpp",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/12-Rcpp-packages/index.html#slides",
    "href": "content/12-Rcpp-packages/index.html#slides",
    "title": "R Packages: Rcpp",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/12-Rcpp-packages/index.html#resources",
    "href": "content/12-Rcpp-packages/index.html#resources",
    "title": "R Packages: Rcpp",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/09-testing/index.html",
    "href": "content/09-testing/index.html",
    "title": "R Packages: Testing",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/09-testing/index.html#slides",
    "href": "content/09-testing/index.html#slides",
    "title": "R Packages: Testing",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/09-testing/index.html#resources",
    "href": "content/09-testing/index.html#resources",
    "title": "R Packages: Testing",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/11-data-publication-maintenance/index.html",
    "href": "content/11-data-publication-maintenance/index.html",
    "title": "R Packages: Packaging data; publication and maintenance",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/11-data-publication-maintenance/index.html#slides",
    "href": "content/11-data-publication-maintenance/index.html#slides",
    "title": "R Packages: Packaging data; publication and maintenance",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/11-data-publication-maintenance/index.html#resources",
    "href": "content/11-data-publication-maintenance/index.html#resources",
    "title": "R Packages: Packaging data; publication and maintenance",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/08-documentation/index.html",
    "href": "content/08-documentation/index.html",
    "title": "R Packages: Documentation",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/08-documentation/index.html#slides",
    "href": "content/08-documentation/index.html#slides",
    "title": "R Packages: Documentation",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/08-documentation/index.html#resources",
    "href": "content/08-documentation/index.html#resources",
    "title": "R Packages: Documentation",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/03-classes-methods/index.html",
    "href": "content/03-classes-methods/index.html",
    "title": "Advanced R: Classes and methods",
    "section": "",
    "text": "Here’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/03-classes-methods/index.html#slides",
    "href": "content/03-classes-methods/index.html#slides",
    "title": "Advanced R: Classes and methods",
    "section": "",
    "text": "Here’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/03-classes-methods/index.html#resources",
    "href": "content/03-classes-methods/index.html#resources",
    "title": "Advanced R: Classes and methods",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nMain reference for this section, goes a bit further (including R6): Wickham, H, Advanced R (2nd edn), Object-oriented programming section\n\nhttps://adv-r.hadley.nz/oo.html\n\nFun example creating Turtle and TurtleWithPen classes to create simple graphics by moving the turtle\nhttps://stuartlee.org/2019/07/09/s4-short-guide/"
  },
  {
    "objectID": "content/04-efficient-programming/index.html",
    "href": "content/04-efficient-programming/index.html",
    "title": "Advanced R: Efficient programming",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/04-efficient-programming/index.html#slides",
    "href": "content/04-efficient-programming/index.html#slides",
    "title": "Advanced R: Efficient programming",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/04-efficient-programming/index.html#resources",
    "href": "content/04-efficient-programming/index.html#resources",
    "title": "Advanced R: Efficient programming",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/06-r-with-cpp/index.html",
    "href": "content/06-r-with-cpp/index.html",
    "title": "Advanced R: C++ and Rcpp",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/06-r-with-cpp/index.html#slides",
    "href": "content/06-r-with-cpp/index.html#slides",
    "title": "Advanced R: C++ and Rcpp",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/06-r-with-cpp/index.html#resources",
    "href": "content/06-r-with-cpp/index.html#resources",
    "title": "Advanced R: C++ and Rcpp",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/01-welcome/index.html",
    "href": "content/01-welcome/index.html",
    "title": "Welcome and introduction",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/01-welcome/index.html#slides",
    "href": "content/01-welcome/index.html#slides",
    "title": "Welcome and introduction",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/01-welcome/index.html#resources",
    "href": "content/01-welcome/index.html#resources",
    "title": "Welcome and introduction",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/10-check-package-documentation/index.html",
    "href": "content/10-check-package-documentation/index.html",
    "title": "R Packages: Check and package documentation",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/10-check-package-documentation/index.html#slides",
    "href": "content/10-check-package-documentation/index.html#slides",
    "title": "R Packages: Check and package documentation",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/10-check-package-documentation/index.html#resources",
    "href": "content/10-check-package-documentation/index.html#resources",
    "title": "R Packages: Check and package documentation",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/05-profiling/index.html",
    "href": "content/05-profiling/index.html",
    "title": "Advanced R: Profiling",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/05-profiling/index.html#slides",
    "href": "content/05-profiling/index.html#slides",
    "title": "Advanced R: Profiling",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/05-profiling/index.html#resources",
    "href": "content/05-profiling/index.html#resources",
    "title": "Advanced R: Profiling",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/07-package-foundations/index.html",
    "href": "content/07-package-foundations/index.html",
    "title": "R Packages: Package foundations",
    "section": "",
    "text": "This page and the slides for this session are still under development"
  },
  {
    "objectID": "content/07-package-foundations/index.html#slides",
    "href": "content/07-package-foundations/index.html#slides",
    "title": "R Packages: Package foundations",
    "section": "Slides",
    "text": "Slides\nHere’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/07-package-foundations/index.html#resources",
    "href": "content/07-package-foundations/index.html#resources",
    "title": "R Packages: Package foundations",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nTITLE\n\n\n\n\nPackages"
  },
  {
    "objectID": "content/02-functions/index.html",
    "href": "content/02-functions/index.html",
    "title": "Advanced R: Functions",
    "section": "",
    "text": "Here’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/02-functions/index.html#slides",
    "href": "content/02-functions/index.html#slides",
    "title": "Advanced R: Functions",
    "section": "",
    "text": "Here’s a link to the slides in a new window.\nHere are the slides embedded:"
  },
  {
    "objectID": "content/02-functions/index.html#resources",
    "href": "content/02-functions/index.html#resources",
    "title": "Advanced R: Functions",
    "section": "Resources",
    "text": "Resources\n\nReading\n\nFunctions chapter from Advanced R, Hadley Wickham\nhttps://adv-r.hadley.nz/functions.html\nDebugging chapter from Advanced R, Hadley Wickham\nhttps://adv-r.hadley.nz/debugging.html\nDebugging from the RStudio User Guide\nhttps://docs.posit.co/ide/user/ide/guide/code/debugging.html"
  }
]